<form [formGroup]="groupForm" (ngSubmit)="onSubmit()">
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-text class="header-text">Details</ion-text>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="stacked">Gruppenname</ion-label>
          <ion-input
            autocomplete="off"
            type="text"
            formControlName="name"
            maxlength="25"
            placeholder="Beispiel: Deutsch, 6c"
            autofocus
            required
          ></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row justify-content-center align-items-center>
      <ion-col size="6">
        <ion-text class="header-text">Mitglieder</ion-text>
      </ion-col>
      <ion-col>
        <ion-item>
          <ion-label position="stacked">Neues Mitglied</ion-label>
          <ion-input
            #memberInput
            placeholder="Beispiel: Amanda"
            name="newMember"
            [(ngModel)]="newMemberName"
            [ngModelOptions]="{ standalone: true }"
            autocomplete="off"
          ></ion-input>
          <ion-button
            type="button"
            (click)="addMember()"
            slot="end"
            [disabled]="!addMemberValid()"
            >Hinzuf√ºgen</ion-button
          >
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row class="members">
      <ion-col>
        <div formArrayName="members">
          <app-missing-data-text
            [data]="members.controls"
            text="Keine Mitglieder vorhanden!"
          ></app-missing-data-text>
          <ion-list *ngIf="members.controls.length > 0">
            <ion-item-sliding
              *ngFor="let member of members.controls; let i = index"
            >
                <app-member [name]="member.value"></app-member>
              <ion-item-options side="end">
                <ion-item-option (click)="favorite(item)"
                  >Favorite</ion-item-option
                >
                <ion-item-option color="danger" (click)="share(item)"
                  >Share</ion-item-option
                >
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-button
    type="submit"
    color="primary"
    expand="block"
    class="create-button"
    [disabled]="!groupForm.valid"
  >
    <ion-icon name="checkmark" slot="start"></ion-icon>
    {{ buttonText }}
  </ion-button>
</form>
